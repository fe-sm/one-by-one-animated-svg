{"version":3,"file":"animation.umd.js","sources":["../src/index.js"],"sourcesContent":["const modes = {\n  STATIC: 'static',\n  LINEAR: 'linear'\n}\n\nconst defaultTime = 0\n\nconst defaultProperties = {\n  'stroke-dasharray': 'var(--s-length)',\n  'stroke-dashoffset': 'var(--s-length)',\n  'animation-duration': '0s',\n  'animation-name': '',\n  'animation-timing-function': 'linear',\n  'animation-delay': '0s',\n  'animation-fill-mode': 'forwards',\n  '--s-index': '0',\n  '--s-length': '0'\n}\n\n// { animation-delay, --s-index, --s-length }\nconst setPathAnimationProperties = function (pathDOM, properties = { }) {\n  const allProperties = Object.assign({ }, defaultProperties, properties)\n  Object.keys(allProperties).forEach((propertyName) => pathDOM.style.setProperty(\n    propertyName, allProperties[propertyName]\n  ))\n}\n\nexport default function (svgDOM, { mode = modes.STATIC, time = defaultTime, animationName = 'animated-svg-dash' } = { }) {\n  const paths = svgDOM.querySelectorAll('path')\n  let delay = 0\n  for (let i = 0; i < paths.length; ++i) {\n    const p = paths[i], len = p.getTotalLength()\n    let animationDuration = time\n    const animationDelay = delay\n    if (mode === modes.STATIC) {\n      delay += time\n    } else {\n      animationDuration = len * time\n      delay += animationDuration\n    }\n    setPathAnimationProperties(p, {\n      'animation-name': animationName,\n      'animation-duration': animationDuration + 's',\n      'animation-delay': animationDelay + 's',\n      '--s-index': i,\n      '--s-length': len\n    })\n  }\n}\n"],"names":["const","let"],"mappings":";;;;;;;;;;EAAAA,IAAM,KAAK,GAAG;IACZ,MAAM,EAAE,QAAQ;IAChB,MAAM,EAAE,QAAQ;IACjB;;EAEDA,IAAM,WAAW,GAAG,EAAC;;EAErBA,IAAM,iBAAiB,GAAG;IACxB,kBAAkB,EAAE,iBAAiB;IACrC,mBAAmB,EAAE,iBAAiB;IACtC,oBAAoB,EAAE,IAAI;IAC1B,gBAAgB,EAAE,EAAE;IACpB,2BAA2B,EAAE,QAAQ;IACrC,iBAAiB,EAAE,IAAI;IACvB,qBAAqB,EAAE,UAAU;IACjC,WAAW,EAAE,GAAG;IAChB,YAAY,EAAE,GAAG;IAClB;;;EAGDA,IAAM,0BAA0B,GAAG,UAAU,OAAO,EAAE,UAAgB,EAAE;2CAAR,GAAG;;IACjEA,IAAM,aAAa,GAAG,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,iBAAiB,EAAE,UAAU,EAAC;IACvE,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,WAAE,YAAY,EAAE,SAAG,OAAO,CAAC,KAAK,CAAC,WAAW;MAC5E,YAAY,EAAE,aAAa,CAAC,YAAY,CAAC;QAC1C,EAAC;IACH;;AAED,EAAe,gBAAU,MAAM,EAAE,GAAsF,EAAE;6BAAR,GAAG;uDAA1E,KAAK,CAAC;uDAAe;2FAA6B;;IAC1FA,IAAM,KAAK,GAAG,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAC;IAC7CC,IAAI,KAAK,GAAG,EAAC;IACb,KAAKA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;MACrCD,IAAM,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC,cAAc,GAAE;MAC5CC,IAAI,iBAAiB,GAAG,KAAI;MAC5BD,IAAM,cAAc,GAAG,MAAK;MAC5B,IAAI,IAAI,KAAK,KAAK,CAAC,MAAM,EAAE;QACzB,KAAK,IAAI,KAAI;OACd,MAAM;QACL,iBAAiB,GAAG,GAAG,GAAG,KAAI;QAC9B,KAAK,IAAI,kBAAiB;OAC3B;MACD,0BAA0B,CAAC,CAAC,EAAE;QAC5B,gBAAgB,EAAE,aAAa;QAC/B,oBAAoB,EAAE,iBAAiB,GAAG,GAAG;QAC7C,iBAAiB,EAAE,cAAc,GAAG,GAAG;QACvC,WAAW,EAAE,CAAC;QACd,YAAY,EAAE,GAAG;OAClB,EAAC;KACH;GACF;;;;;;;;;;;;"}